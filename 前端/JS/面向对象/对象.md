# JS中的面向对象

Js中存在8种基本类型：

number

string

Bitint

boolean

null

Undefined

Sambol

object

## 基本使用

Object就是最后的一个基本类型，就像java一样object同时也是一个引用类型。

不过js中的object还是比较好进行理解的，因为其内部只是一种key-value结构。

```js
let user = {     // 一个对象
  name: "John",  // 键 "name"，值 "John"
  age: 30        // 键 "age"，值 30
};
```

就相当于go中的map[string]interface{}

key是一个string类型的，而value可以是任意类型的。这也是js中对象的一个独特特点

可以使用delete将对象中的数据进行删除

```js
delete user.name
```

## 计算属性

在对象中可以使用计算属性，就是将一个string进行赋值，可以将这个string作为key加入到js中进行使用：

```js
let k = "name"
var user = {}
user[k] = "yili"
'yili'
user.name
'yili'
```

就是使用[]来添加一个key value，很多语言都会这样进行使用；

## 属性检查

可以使用 === 或者 in 来对一个key是否存在于对象中进行检查：

```js
"name" in user
true
user.y === undefined
true
```

## 私有属性

使用Object.defineProperties来对一个对象的属性进行构造，可以通过添加一个writable：false来表示这个属性时不可进行改变的。

```js
let book = {};
Object.defineProperties(book, {
    year_: {
        value: 2017
    },
    edition: {
        value: 1
    },
    year: {
        get: function() {
            return this.year_;
        },
        set: function(newValue) {
            if (newValue > 2017) {
                this.year_ = newValue;
                this.edition += newValue - 2017;
            }
        }
    }
});
```

使用了这个writale为flase之后就不可以对这个属性的值进行修改了。

## 遍历对象

如果你想对一个对象进行遍历，可以直接使用for in 来进行遍历。

```js
for (key in user){
	console.log(user[key]);
}
```

## 对象克隆

可以使用Object.assign将多个对象中的值赋值给一个对象进行使用

```
Object.assign(target,args1...)
```

不过上面的那种克隆仅仅只是一个浅克隆，使用浅克隆不能将引用也同时进行赋值，所以就会存在很多的问题。

所以官方提供了一个深克隆来进行使用：

```js
var objects = [{ 'a': 1 }, { 'b': 2 }];
 
var deep = _.cloneDeep(objects);
console.log(deep[0] === objects[0]);
```

## 构造函数

构造函数在技术上是常规函数。不过有两个约定：

1.  它们的命名以大写字母开头。
2.  它们只能由 `"new"` 操作符来执行。

## Symbol

在js中key的值不只可以使用string，还可以使用symbol来作为key。

首先来了解一下何为symbol，symbol被定义为一种唯一值的标签

symbol主要是用于解决多个不同的库中存在相互冲突的。

通过之前的计算属性可以将symbol改变成为对象中的key来进行使用。

symbol在for in 中会被跳过

## Iterable object

有一些对象是可以进行迭代处理的，这个是js在底层做了一些处理，将迭代的方式加入了一些对象中，可以更好的进行使用。

如果一个对象是不存在迭代方法时，我们可以添加一个Symbol.iterator方法，来自定义这个对象的迭代方式。

## 原型链

如果想要真正的了解js中的原型链技术，必须要弄懂两个概念上的区别：

`__proto__`:

`prototype`: 这个东西是函数所独有的，它从一个函数指向一个对象。含义是函数的原型对象，其实也就是这个函数本身（不过是以对象的形式进行展现的）