# 微服务初见

你以为现在大型公司的服务只需要一个后端模块和一个大的数据库就可以解决所有的任务了吗？？

当然这样运维是方便了，只需要将每个项目放到对应的服务器，然后再nginx上配置每个服务器的位置就行了。如果你的项目很小，没有高强度的映射关系，后端也只是简单的CURD的话，当然是可以这样。不过你的软件服务所带来的效益是十分低下的。（比如在日常生活中的：学校的管理系统，火锅店的小程序系统，简单的个人博客系统。。。）是无法做到大规模商用的。

如果一个大型项目做到如此耦合，每个程序员都要在一个模板中进行操作。每个服务器都部署一个相同的项目，然后通过nginx做负载均衡。当上线后的某个流程出现BUG后，出现的就是整个服务完全崩溃。当面对突发的客流量时，可以选择不断增加服务器，面对数据库不够用，可以选择分库分表。但是真的可以解决所有的问题吗，当问题不断的累积，你的软件后台就会变得千疮百孔，遇到大的错误后就会转瞬崩塌。如果一个公司的软件架构是如此设计的，那么这个公司必然不会走的长远。

所以就需要将软件功能进行拆分，以应对繁杂的耦合关系，减少不同部门之间的依赖。使一个功能模块可以做到自己上线而不影响整体的功能，并且通过更加良好的方案来应对不同的客流量，将繁杂的数据关系降低到可以控制的强度。

比如一个初创软件依靠视频平台火了，需要在这个视频平台添加一个广告推送系统，一个电商模块，一个直播系统，一个用户交互系统。在前端看来这些模块可能是一个超链接就可以跳转的，或者是直接嵌套在用户的页面中的。但是后台是要进行区分的，要做到不同的模块拥有不同的库表，（当然会有不同的后台模块存在依赖的情况，这个也是可以进行解决的），每个模块对应不同的开发人员。这样才可以各个分工严谨，将效率做大最大化。也方便不同的功能进行上线，获得更多的效益，占据更大的市场。

----------------

**而如果使用Java语言实现微服务，使用最为广泛的当属SpringCloud了。**

# SpringCloud

不要简单的认为SpringCloud只是一个框架，如果一个框架就可以实现微服务的整个功能，那就真的是谢天谢地了。

注意下面所使用的模块是Spring官方进行列举的，而不是国内较为火热的Spring Cloud Alibaba

他是一整个系列框架的集合

- Eureka: 主心骨，是对所有微服务进行管理的框架
- Ribbon：对客户端的访问进行负载均衡的框架，相当于简化的Nginx
- Hystrix：容错框架，如果整个系统中一个服务崩溃，可以防止所造成的雪崩效应
- Feign：简化对于Http接口的调用
- zuul：API网关，基于你的权限分配给你不同的服务类型
- Config：分布式管理项目的配置文件
- Sleuth：一个日志工具，可以将所有服务的日志进行统一管理
- Stream：传递数据的工具

别初见了，我发现这个Spring Cloud就是对框架的api进行使用，如果你不懂底层原理的话，未来还有无数个不同的框架在等着你。所以学习不能只是停留在框架的使用上，还要掌握底层的原理。不然，等到未来进行技术升级的时候，还是会有不同的框架等待着你去学习。不同的系统可以采用不同的方案来进行实现。

就比如我刚刚得知在2020.0.x版本的Spring Cloud 中已经删除了Eureka之外的所有Netflix的东西。简直了，就像你刚刚学完一个东西，然后这个东西就已经过时了，网飞真不是个东西！！！



